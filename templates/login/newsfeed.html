{% extends 'new_template.html' %}

{% block content %}
<div class="row newsfeed--content">
{% for person in persons %}
	<div class="col-sm-8 col-sm-offset-2">
		<div class="row newsfeed--header">
			<div class="col-sm-2" style="padding-left: 0px;">
			{% if (person.author_photo_url == '') %}
				<i class="fa fa-user user--icon"></i>
			{% else %}
				<div class="profile--picture">
					<img src="{{ url_for('static',filename=person.author_photo_url) }}">
				</div>
			{% endif %}
			</div>
			<div class="col-sm-1 newsfeed--name">
				<a href="#">{{ person.author_username }}</a>
			</div>
			<div class="col-sm-2 newsfeed--duration">
				<p><img src="{{ url_for('static',filename='images/clock-icon.png') }}">&nbsp;
				{{ person.duration }}</p>
			</div>
			<div class="col-sm-3 newsfeed--charge">
				<div class="progress newsfeed--progress">
					<input type="text" value="{{ (person.supporters_num * 100)/ person.supporters_goal_num }}" id="supporters--percent" hidden>
					<div class="progress-bar newsfeed--bar" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style=""></div>
				</div>

				<div class="progress newsfeed--progress2">
					<input type="text" value="{{ (person.volunteers_num * 100)/ person.volunteers_goal_num }}" id="volunters--percent" hidden>
					<div class="progress-bar newsfeed--bar2" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style=""></div>
				</div>
			</div>
			<div class="col-sm-4 newsfeed--goals">
				<p>{{ person.supporters_num }}/{{ person.supporters_goal_num }} supporters goals<br>
				{{ person.volunteers_num }}/{{ person.volunteers_goal_num }} volunteers goals</p>
			</div>
		</div>
		<div class="row newsfeed--body">
			<div class="col-sm-12">
				<div class="col-sm-8 newsfeed--problem">
					{{ person.concern }}<br>{{ person.concern }}<br>{{ person.concern }}
				</div>
			</div>
			<div class="col-sm-12" style="margin-top: 291px;">
				<div class="col-sm-8 col-sm-offset-4 newsfeed--proposal">
					{{ person.proposal }}<br>{{ person.proposal }}<br>{{ person.proposal }}
				</div>
			</div>
		</div>
		<div class="row newsfeed--footer">
			<div class="col-sm-12" style="padding-right: 0px; padding-left: 0px;">
				<div class="col-sm-1 redflag--img">
					<img src="{{ url_for('static',filename='images/redflag.png') }}">
				</div>
				<div class="col-sm-9 newsfeed--support" style="padding-right:0;padding-left:30px;">
					<input type="text" value="{{ (person.supporters|length * 100)/(person.supporters|length + person.rejectors|length) }}" id="percent" hidden>
					<div class="input--percent">
						<label>	Support Rate: </label>
					</div>
				</div>
				<div class="col-sm-2 neewsfeed--moreinfo" style="float:right;">
					<input type="button" name="more-info" class="newsfeed--button">
				</div>
			</div>
		</div>
		<div class="row newsfeed--persons">
			<div class="col-sm-12">
				<div class="col-sm-1" style="padding:0;">
					<img src="{{ url_for('static',filename='images/check-small.png') }}">
				</div>
				<div class="col-sm-11 newsfeed--likes">
					<ul>
					{% for supporter in person.supporters %}
						{% if loop.index <= 3 %}
							<a href="#"><li>{{ supporter.username }}</li></a>
						{% endif %}
					{% endfor %}
					{% if person.supporters|length > 3 %}
						<a href="#" class="last--liked"><li>+ {{ person.supporters|length -3 }} people</li></a>
					{% endif %}
					</ul>
				</div>
			</div>
			<div class="col-sm-12">
				<div class="col-sm-1" style="padding:0;">
					<img src="{{ url_for('static',filename='images/x-small.png') }}">
				</div>
				<div class="col-sm-11 newsfeed--likes">
					<ul>
					{% for rejector in person.rejectors %}
						{% if loop.index <= 3 %}
							<a href="#"><li>{{ rejector.username }}</li></a>
						{% endif %}
					{% endfor %}
					{% if person.rejectors|length > 3 %}
						<a href="#" class="last--liked"><li>+ {{ person.rejectors|length -3 }} people</li></a>
					{% endif %}
					</ul>
				</div>
			</div>
		</div>
		<div class="row newsfeed--share">
				<div class="col-sm-12 newsfeed--share--icons">
					<div class="col-sm-6" style="padding:0;">
						<img src="{{ url_for('static',filename='images/x-icon.png') }}">
						<img style="width: 65px;" src="{{ url_for('static',filename='images/check-icon.png') }}">
						<img style="width: 62px;" src="{{ url_for('static',filename='images/checkmark.png') }}">
						<img src="{{ url_for('static',filename='images/ignore-icon.png') }}">
					</div>
					<div class="col-sm-6 newsfeed--followers">
						<i class="fa fa-share-alt"></i>
						<p>Share with: followers</p>
					</div>
				</div>
			</div>
	</div>
{% endfor %}

</div>
<script src="{{ url_for('static',filename='js/newsfeed.js') }}"></script>
{% endblock %}